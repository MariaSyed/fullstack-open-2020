(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),u=n.n(c),o=n(3),s=n(1),i=n.n(s),l=n(4),p=n(5),f=n(6),m=n.n(f),b="https://phonebook-fso20.herokuapp.com/api/persons",d={getAll:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(e){return m.a.post(b,e)},delete:function(e){return m.a.delete("".concat(b,"/").concat(e.id))},update:function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.a.put("".concat(b,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.filter,n=e.setFilter;return a.a.createElement("div",null,"filter shown with:",a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},h=function(e){var t=e.name,n=e.number,r=e.setName,c=e.setNumber,u=e.submit;return a.a.createElement("form",{onSubmit:u},a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{value:t,onChange:function(e){return r(e.target.value)}})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{value:n,onChange:function(e){return c(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},j=function(e){var t=e.person;return a.a.createElement("p",null,t.name," ",t.number)},w=function(e){var t=e.persons,n=e.filter,r=e.deletePerson;return a.a.createElement("div",null,t.filter((function(e){return""===n||e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return a.a.createElement("span",{key:e.id},a.a.createElement(j,{key:e.name,person:e}),a.a.createElement("button",{onClick:function(){return r(e)}},"delete"))})))},O={border:"1px solid",padding:"0 20px",borderRadius:10,margin:"25px 10px",backgroundColor:"#f0f0f0"},E={},k={container:{success:Object(o.a)(Object(o.a)({},O),{},{borderColor:"green"}),error:Object(o.a)(Object(o.a)({},O),{},{borderColor:"red"})},text:{success:Object(o.a)(Object(o.a)({},E),{},{color:"green"}),error:Object(o.a)(Object(o.a)({},E),{},{color:"red"})}},x=function(e){var t=e.variant,n=void 0===t?"success":t,r=e.message;return r?a.a.createElement("div",{style:k.container[n]},a.a.createElement("h2",{style:k.text[n]},r)):null},g=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)(""),s=Object(p.a)(u,2),f=s[0],m=s[1],b=Object(r.useState)(""),j=Object(p.a)(b,2),O=j[0],E=j[1],k=Object(r.useState)([]),g=Object(p.a)(k,2),y=g[0],C=g[1],S=Object(r.useState)(),N=Object(p.a)(S,2),A=N[0],P=N[1],D=Object(r.useState)(),F=Object(p.a)(D,2),I=F[0],J=F[1];Object(r.useEffect)((function(){L()}),[]);var L=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getAll();case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){J("success"),P(e),setTimeout((function(){return P()}),3e3)},B=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=y.find((function(e){return e.name===n})),(a=r&&r.number===f)?window.alert("".concat(n," with number ").concat(f," is already added to phonebook")):r&&!a?U(Object(o.a)(Object(o.a)({},r),{},{number:f})):M(),c(""),m("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.create({name:n,number:f});case 2:T("Added ".concat(n)),L();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Delete ".concat(t.name,"?"))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.delete(t);case 5:L();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,window.confirm("".concat(n," is already added to phonebook, replace old number with new one?"))){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,d.update(t);case 7:T("Updated ".concat(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),404===(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(a="Information of ".concat(n," has already been removed from the server"),J("error"),P(a),setTimeout((function(){return P()}),3e3));case 13:return e.prev=13,L(),e.finish(13);case 16:case"end":return e.stop()}var a}),e,null,[[4,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(v,{filter:O,setFilter:E}),a.a.createElement(x,{variant:I,message:A}),a.a.createElement("h3",null,"Add a new"),a.a.createElement(h,{name:n,number:f,submit:B,setName:c,setNumber:m}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(w,{persons:y,filter:O,deletePerson:R}))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.c0e97d56.chunk.js.map