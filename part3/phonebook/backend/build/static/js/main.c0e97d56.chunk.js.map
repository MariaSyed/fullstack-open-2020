{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","a","axios","get","response","data","create","newPerson","post","delete","person","id","update","put","Filter","filter","setFilter","value","onChange","event","target","PersonForm","name","number","setName","setNumber","submit","onSubmit","type","Person","Persons","persons","deletePerson","p","toLowerCase","includes","map","key","onClick","commonStyles","border","padding","borderRadius","margin","backgroundColor","styles","container","success","borderColor","error","text","color","Notification","variant","message","style","App","useState","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","setPersons","notificationMessage","setNotificationMessage","notificationVariant","setNotificationVariant","useEffect","refreshPersons","personService","fetchedPersons","handleSuccessMessage","successMessage","setTimeout","handleSubmitForm","preventDefault","existingPerson","find","isDuplicate","window","alert","handleUpdatePerson","handleCreatePerson","handleDeletePerson","personToDelete","confirm","personToUpdate","status","errorMessage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0e97d56.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = 'https://phonebook-fso20.herokuapp.com/api/persons';\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst create = (newPerson) => axios.post(baseUrl, newPerson);\n\nconst remove = (person) => axios.delete(`${baseUrl}/${person.id}`);\n\nconst update = async (person) => axios.put(`${baseUrl}/${person.id}`, person);\n\nexport default {\n  getAll,\n  create,\n  delete: remove,\n  update,\n};\n","import React from 'react';\n\nconst Filter = ({ filter, setFilter }) => (\n  <div>\n    filter shown with:\n    <input value={filter} onChange={(event) => setFilter(event.target.value)} />\n  </div>\n);\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({ name, number, setName, setNumber, submit }) => (\n  <form onSubmit={submit}>\n    <div>\n      name:{' '}\n      <input value={name} onChange={(event) => setName(event.target.value)} />\n    </div>\n    <div>\n      number:{' '}\n      <input\n        value={number}\n        onChange={(event) => setNumber(event.target.value)}\n      />\n    </div>\n    <div>\n      <button type='submit'>add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person }) => (\n  <p>\n    {person.name} {person.number}\n  </p>\n);\n\nconst Persons = ({ persons, filter, deletePerson }) => {\n  return (\n    <div>\n      {persons\n        .filter((p) =>\n          filter !== ''\n            ? p.name.toLowerCase().includes(filter.toLowerCase())\n            : true\n        )\n        .map((person) => (\n          <span key={person.id}>\n            <Person key={person.name} person={person} />\n            <button onClick={() => deletePerson(person)}>delete</button>\n          </span>\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst commonStyles = {\n  container: {\n    border: '1px solid',\n    padding: '0 20px',\n    borderRadius: 10,\n    margin: '25px 10px',\n    backgroundColor: '#f0f0f0',\n  },\n  text: {},\n};\n\nconst styles = {\n  container: {\n    success: {\n      ...commonStyles.container,\n      borderColor: 'green',\n    },\n    error: {\n      ...commonStyles.container,\n      borderColor: 'red',\n    },\n  },\n  text: {\n    success: {\n      ...commonStyles.text,\n      color: 'green',\n    },\n    error: {\n      ...commonStyles.text,\n      color: 'red',\n    },\n  },\n};\n\nconst Notification = ({ variant = 'success', message }) =>\n  message ? (\n    <div style={styles.container[variant]}>\n      <h2 style={styles.text[variant]}>{message}</h2>\n    </div>\n  ) : null;\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport personService from './services/persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [nameFilter, setNameFilter] = useState('');\n  const [persons, setPersons] = useState([]);\n\n  const [notificationMessage, setNotificationMessage] = useState();\n  const [notificationVariant, setNotificationVariant] = useState();\n\n  useEffect(() => {\n    refreshPersons();\n  }, []);\n\n  const refreshPersons = async () => {\n    const fetchedPersons = await personService.getAll();\n    setPersons(fetchedPersons);\n  };\n\n  const resetForm = () => {\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleSuccessMessage = (successMessage) => {\n    setNotificationVariant('success');\n    setNotificationMessage(successMessage);\n\n    setTimeout(() => setNotificationMessage(), 3000);\n  };\n\n  const handleErrorMessage = (errorMessage) => {\n    setNotificationVariant('error');\n    setNotificationMessage(errorMessage);\n\n    setTimeout(() => setNotificationMessage(), 3000);\n  };\n\n  const handleSubmitForm = async (event) => {\n    event.preventDefault();\n\n    const existingPerson = persons.find((person) => person.name === newName);\n    const isDuplicate = existingPerson && existingPerson.number === newNumber;\n\n    if (isDuplicate) {\n      window.alert(\n        `${newName} with number ${newNumber} is already added to phonebook`\n      );\n    } else if (existingPerson && !isDuplicate) {\n      handleUpdatePerson({ ...existingPerson, number: newNumber });\n    } else {\n      handleCreatePerson();\n    }\n\n    resetForm();\n  };\n\n  const handleCreatePerson = async () => {\n    await personService.create({ name: newName, number: newNumber });\n    handleSuccessMessage(`Added ${newName}`);\n    refreshPersons();\n  };\n\n  const handleDeletePerson = async (personToDelete) => {\n    const confirmed = window.confirm(`Delete ${personToDelete.name}?`);\n    if (!confirmed) return;\n\n    await personService.delete(personToDelete);\n    refreshPersons();\n  };\n\n  const handleUpdatePerson = async (personToUpdate) => {\n    const { name } = personToUpdate;\n\n    const confirmed = window.confirm(\n      `${name} is already added to phonebook, replace old number with new one?`\n    );\n    if (!confirmed) return;\n\n    try {\n      await personService.update(personToUpdate);\n      handleSuccessMessage(`Updated ${name}`);\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Not found\n        handleErrorMessage(\n          `Information of ${name} has already been removed from the server`\n        );\n      }\n    } finally {\n      refreshPersons();\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter filter={nameFilter} setFilter={setNameFilter} />\n\n      <Notification\n        variant={notificationVariant}\n        message={notificationMessage}\n      />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        submit={handleSubmitForm}\n        setName={setNewName}\n        setNumber={setNewNumber}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={persons}\n        filter={nameFilter}\n        deletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}